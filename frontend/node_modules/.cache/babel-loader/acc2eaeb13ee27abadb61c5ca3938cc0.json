{"ast":null,"code":"import { put, takeLatest, call } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction getUserData(action) {\n  return axios.post(\"http://localhost:3002/auth/\", action.payload);\n}\n\nexport function* getDataAsync(action) {\n  try {\n    const userData = yield call(getUserData, action);\n\n    if (userData.data._id) {\n      yield put({\n        type: \"SET_LOGED_IN_USER_DATA\",\n        userData\n      });\n    } else {\n      let loginError = \"Wrong email or password\";\n      yield put({\n        type: \"HANDLE_ERROR\",\n        loginError\n      });\n    }\n  } catch (error) {\n    yield put({\n      type: \"HANDLE_ERROR\",\n      error\n    });\n  }\n}\nexport function* watchLoggedInUser(action) {\n  yield takeLatest(\"REQUEST_LOGIN\", getDataAsync);\n}","map":{"version":3,"sources":["/home/com39/Desktop/PPL/frontend/src/redux/sagas/Saga.js"],"names":["put","takeLatest","call","axios","getUserData","action","post","payload","getDataAsync","userData","data","_id","type","loginError","error","watchLoggedInUser"],"mappings":"AAAA,SAASA,GAAT,EAAcC,UAAd,EAA0BC,IAA1B,QAAsC,oBAAtC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,SAASC,WAAT,CAAqBC,MAArB,EAA6B;AAC3B,SAAOF,KAAK,CAACG,IAAN,CAAW,6BAAX,EAA0CD,MAAM,CAACE,OAAjD,CAAP;AACD;;AACD,OAAO,UAAUC,YAAV,CAAuBH,MAAvB,EAA+B;AACpC,MAAI;AACF,UAAMI,QAAQ,GAAG,MAAMP,IAAI,CAACE,WAAD,EAAcC,MAAd,CAA3B;;AACA,QAAII,QAAQ,CAACC,IAAT,CAAcC,GAAlB,EAAuB;AACrB,YAAMX,GAAG,CAAC;AAAEY,QAAAA,IAAI,EAAE,wBAAR;AAAkCH,QAAAA;AAAlC,OAAD,CAAT;AACD,KAFD,MAEO;AACL,UAAII,UAAU,GAAG,yBAAjB;AACA,YAAMb,GAAG,CAAC;AAAEY,QAAAA,IAAI,EAAE,cAAR;AAAwBC,QAAAA;AAAxB,OAAD,CAAT;AACD;AACF,GARD,CAQE,OAAOC,KAAP,EAAc;AACd,UAAMd,GAAG,CAAC;AAAEY,MAAAA,IAAI,EAAE,cAAR;AAAwBE,MAAAA;AAAxB,KAAD,CAAT;AACD;AACF;AAED,OAAO,UAAUC,iBAAV,CAA4BV,MAA5B,EAAoC;AACzC,QAAMJ,UAAU,CAAC,eAAD,EAAkBO,YAAlB,CAAhB;AACD","sourcesContent":["import { put, takeLatest, call } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nfunction getUserData(action) {\n  return axios.post(\"http://localhost:3002/auth/\", action.payload);\n}\nexport function* getDataAsync(action) {\n  try {\n    const userData = yield call(getUserData, action);\n    if (userData.data._id) {\n      yield put({ type: \"SET_LOGED_IN_USER_DATA\", userData });\n    } else {\n      let loginError = \"Wrong email or password\";\n      yield put({ type: \"HANDLE_ERROR\", loginError });\n    }\n  } catch (error) {\n    yield put({ type: \"HANDLE_ERROR\", error });\n  }\n}\n\nexport function* watchLoggedInUser(action) {\n  yield takeLatest(\"REQUEST_LOGIN\", getDataAsync);\n}\n"]},"metadata":{},"sourceType":"module"}