{"ast":null,"code":"var _jsxFileName = \"/home/com39/Desktop/PPL/frontend/src/screens/timeline/singlepost/index.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport TimelineRight from \"../timeline_right\";\nimport Url from \"../../../util/Config\";\nimport FormInput from \"../../../components/forms/Form\";\nimport like from \"../components/Like\";\nimport Navbar from \"../../components/navbar/Navbar\";\nimport Footer from \"../../components/footer/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Index(props) {\n  _s();\n\n  //taking data from localsy=torage\n  const userId = localStorage.getItem(\"id\");\n  const username = localStorage.getItem(\"username\"); //setting up hooks\n\n  const [post, setPost] = useState({});\n  const [likeLength, setLikeLength] = useState(0);\n  const [isLIke, setIsLIke] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [commentsLength, setCommentsLength] = useState(0);\n  const [commentTxt, setCommentTxt] = useState(\"\");\n  const [openCommentBox, setOpenCommentBox] = useState(false);\n  console.log(props.match.params);\n  const id = props.match.params.id; //post id from url\n  //fetching a single post\n\n  useEffect(() => {\n    axios.post(`${Url.baseurl}/upload/singlepost`, {\n      _id: id\n    }).then(res => {\n      setPost(res.data[0]);\n      setLikeLength(res.data[0].likes.length);\n      setComments(res.data[0].comments);\n      setCommentsLength(res.data[0].comments.length);\n      const a = res.data[0].likes.includes(userId);\n      setIsLIke(a);\n    });\n  }, []); //updating likes\n\n  const ChangeLike = async e => {\n    e.preventDefault();\n    const data = await like.Makelikes(id, userId);\n    setLikeLength(data.data[0].likes.length);\n    const a = data.data[0].likes.includes(userId);\n    setIsLIke(a);\n  };\n\n  const handleCommentClick = e => {\n    //typing in comment input box\n    e.preventDefault();\n    setCommentTxt(e.target.value);\n  }; //submiting a new comment\n\n\n  const handleCommentSubmit = e => {\n    e.preventDefault();\n    axios.post(`${Url.baseurl}/upload/comment`, {\n      _id: id,\n      username: username,\n      text: commentTxt\n    }).then(res => {\n      setComments(res.data[0].comments);\n      setCommentsLength(res.data[0].comments.length);\n      setOpenCommentBox(false);\n    });\n  };\n\n  const handleOpenComment = e => {\n    //toggling comment box\n    e.preventDefault();\n    setOpenCommentBox(!openCommentBox);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TimelineRight, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content_lft\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contnt_2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div_a\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_title\",\n              children: post.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btm_rgt\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btm_arc\",\n                children: post.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"div_top_lft\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/images/img_6.png\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 19\n                }, this), post.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"div_top_rgt\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"span_date\",\n                  children: post.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"span_time\",\n                  children: post.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: `${Url.baseurl}/${post.image}`,\n                alt: \"pet\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_btm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btm_list\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_001.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 102,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 25\n                      }, this), \"Share\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_002.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 110,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 109,\n                        columnNumber: 25\n                      }, this), \"Flag\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: isLIke ? /*#__PURE__*/_jsxDEV(\"a\", {\n                      onClick: ChangeLike,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_003.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 119,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 118,\n                        columnNumber: 27\n                      }, this), likeLength, \" Likes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n                      onClick: ChangeLike,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon btn_icon1\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_003.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 126,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 27\n                      }, this), likeLength, \" Likes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      onClick: handleOpenComment,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_004.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 135,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 25\n                      }, this), commentsLength, \" Comments\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contnt_3\",\n          children: [openCommentBox && /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCommentSubmit,\n            children: [/*#__PURE__*/_jsxDEV(FormInput, {\n              lable: \"Type comment\",\n              placeholder: \"Enter your comment\",\n              type: \"text\",\n              name: \"comment\",\n              onchange: handleCommentClick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n              type: \"submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: comments.map(item => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"list_image\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image_sec\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/images/post_img.png\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image_name\",\n                    children: item.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"list_info\",\n                  children: item.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"button\",\n                  defaultValue: \"Reply\",\n                  className: \"orng_btn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 21\n              }, this);\n            }).reverse()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view_div\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: \"#\",\n              children: \"View more\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Index, \"qmQw8a1vRSMRfJN8+ATmVz8rylc=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/home/com39/Desktop/PPL/frontend/src/screens/timeline/singlepost/index.js"],"names":["axios","React","useEffect","useState","TimelineRight","Url","FormInput","like","Navbar","Footer","Index","props","userId","localStorage","getItem","username","post","setPost","likeLength","setLikeLength","isLIke","setIsLIke","comments","setComments","commentsLength","setCommentsLength","commentTxt","setCommentTxt","openCommentBox","setOpenCommentBox","console","log","match","params","id","baseurl","_id","then","res","data","likes","length","a","includes","ChangeLike","e","preventDefault","Makelikes","handleCommentClick","target","value","handleCommentSubmit","text","handleOpenComment","description","category","date","time","image","map","item","reverse"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport TimelineRight from \"../timeline_right\";\nimport Url from \"../../../util/Config\";\nimport FormInput from \"../../../components/forms/Form\";\nimport like from \"../components/Like\"\nimport Navbar from \"../../components/navbar/Navbar\"\nimport Footer from \"../../components/footer/Footer\"\n\nfunction Index(props) {\n  //taking data from localsy=torage\n\n  const userId = localStorage.getItem(\"id\");\n  const username = localStorage.getItem(\"username\");\n//setting up hooks\n  const [post, setPost] = useState({});\n  const [likeLength, setLikeLength] = useState(0);\n  const [isLIke, setIsLIke] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [commentsLength, setCommentsLength] = useState(0);\n  const [commentTxt, setCommentTxt] = useState(\"\");\n  const [openCommentBox, setOpenCommentBox] = useState(false);\n console.log(props.match.params)\n  const id = props.match.params.id; //post id from url\n  \n  //fetching a single post\n  useEffect(() => {\n    axios.post(`${Url.baseurl}/upload/singlepost`, { _id: id }).then((res) => {\n      setPost(res.data[0]);\n      setLikeLength(res.data[0].likes.length);\n      setComments(res.data[0].comments);\n      setCommentsLength(res.data[0].comments.length);\n      const a = res.data[0].likes.includes(userId);\n      setIsLIke(a);\n    });\n  }, []);\n  //updating likes\n  const ChangeLike = async (e) => { \n    e.preventDefault();\n    const data= await like.Makelikes(id,userId);    \n        setLikeLength(data.data[0].likes.length);\n        const a = data.data[0].likes.includes(userId);\n        setIsLIke(a);\n  };\n  const handleCommentClick = (e) => {  //typing in comment input box\n    e.preventDefault();\n    setCommentTxt(e.target.value);\n  };\n\n  //submiting a new comment\n  const handleCommentSubmit = (e) => { \n    e.preventDefault();\n\n    axios\n      .post(`${Url.baseurl}/upload/comment`, {\n        _id: id,\n        username: username,\n        text: commentTxt,\n      })\n      .then((res) => {\n        setComments(res.data[0].comments);\n        setCommentsLength(res.data[0].comments.length);\n        setOpenCommentBox(false);\n      });\n  };\n  const handleOpenComment = (e) => {  //toggling comment box\n    e.preventDefault();\n    setOpenCommentBox(!openCommentBox);\n  };\n  return (\n    <div>\n      <Navbar/>\n      <div className=\"container\">\n        <div className=\"content\"></div>\n        <TimelineRight />\n        <div className=\"content_lft\">\n          <div className=\"contnt_2\">\n            <div className=\"div_a\">\n              <div className=\"div_title\">{post.description}</div>\n              <div className=\"btm_rgt\">\n                <div className=\"btm_arc\">{post.category}</div>\n              </div>\n              <div className=\"div_top\">\n                <div className=\"div_top_lft\">\n                  <img src=\"/images/img_6.png\" />\n                  {post.username}\n                </div>\n                <div className=\"div_top_rgt\">\n                  <span className=\"span_date\">{post.date}</span>\n                  <span className=\"span_time\">{post.time}</span>\n                </div>\n              </div>\n              <div className=\"div_image\">\n                <img src={`${Url.baseurl}/${post.image}`} alt=\"pet\" />\n              </div>\n              <div className=\"div_btm\">\n                <div className=\"btm_list\">\n                  <ul>\n                    <li>\n                      <a href=\"#\">\n                        <span className=\"btn_icon\">\n                          <img src=\"/images/icon_001.png\" alt=\"share\" />\n                        </span>\n                        Share\n                      </a>\n                    </li>\n                    <li>\n                      <a href=\"#\">\n                        <span className=\"btn_icon\">\n                          <img src=\"/images/icon_002.png\" alt=\"share\" />\n                        </span>\n                        Flag\n                      </a>\n                    </li>\n                    <li>\n                      {isLIke ? (\n                        <a onClick={ChangeLike}>\n                          <span className=\"btn_icon\">\n                            <img src=\"/images/icon_003.png\" alt=\"share\" />\n                          </span>\n                          {likeLength} Likes\n                        </a>\n                      ) : (\n                        <a onClick={ChangeLike}>\n                          <span className=\"btn_icon btn_icon1\">\n                            <img src=\"/images/icon_003.png\" alt=\"share\" />\n                          </span>\n                          {likeLength} Likes\n                        </a>\n                      )}\n                    </li>\n                    <li>\n                      <a onClick={handleOpenComment}>\n                        <span className=\"btn_icon\">\n                          <img src=\"/images/icon_004.png\" alt=\"share\" />\n                        </span>\n                        {commentsLength} Comments\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"contnt_3\">\n            {openCommentBox && (\n              <form onSubmit={handleCommentSubmit}>\n                <FormInput\n                  lable=\"Type comment\"\n                  placeholder=\"Enter your comment\"\n                  type=\"text\"\n                  name=\"comment\"\n                  onchange={handleCommentClick}\n                />\n                <FormInput type=\"submit\" />\n              </form>\n            )}\n\n            <ul>\n              {comments\n                .map((item) => {\n                  return (\n                    <li>\n                      <div className=\"list_image\">\n                        <div className=\"image_sec\">\n                          <img src=\"/images/post_img.png\" />\n                        </div>\n                        <div className=\"image_name\">{item.username}</div>\n                      </div>\n                      <div className=\"list_info\">{item.text}</div>\n                      <input\n                        type=\"button\"\n                        defaultValue=\"Reply\"\n                        className=\"orng_btn\"\n                      />\n                    </li>\n                  );\n                })\n                .reverse()}\n            </ul>\n            <div className=\"view_div\">\n              <a href=\"#\">View more</a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Footer/>\n    </div>\n  );\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}