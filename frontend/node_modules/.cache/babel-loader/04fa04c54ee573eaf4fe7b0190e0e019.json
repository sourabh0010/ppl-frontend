{"ast":null,"code":"var _jsxFileName = \"/home/sourabh/Desktop/PPL/frontend/src/screens/timeline/singlepost/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Url from \"../../../util/Config\";\nimport FormInput from \"../../../components/forms/Form\";\nimport like from \"../components/Like\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Index(props) {\n  _s();\n\n  //taking data from localsy=torage\n  const userId = localStorage.getItem(\"id\");\n  const username = localStorage.getItem(\"username\"); //setting up hooks\n\n  const [post, setPost] = useState({});\n  const [likeLength, setLikeLength] = useState(0);\n  const [isLIke, setIsLIke] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [commentsLength, setCommentsLength] = useState(0);\n  const [commentTxt, setCommentTxt] = useState(\"\");\n  const [openCommentBox, setOpenCommentBox] = useState(false);\n  const id = props.match.params.id; //post id from url\n  //fetching a single post\n\n  useEffect(() => {\n    axios.post(`${Url.baseurl}/upload/singlepost`, {\n      _id: id\n    }).then(res => {\n      setPost(res.data[0]);\n      setLikeLength(res.data[0].likes.length);\n      setComments(res.data[0].comments);\n      setCommentsLength(res.data[0].comments.length);\n      const a = res.data[0].likes.includes(userId);\n      setIsLIke(a);\n    });\n  }, []); //updating likes\n\n  const ChangeLike = async e => {\n    e.preventDefault();\n    const data = await like.Makelikes(id, userId);\n    setLikeLength(data.data[0].likes.length);\n    const a = data.data[0].likes.includes(userId);\n    setIsLIke(a);\n  };\n\n  const handleCommentClick = e => {\n    //typing in comment input box\n    e.preventDefault();\n    setCommentTxt(e.target.value);\n  }; //submiting a new comment\n\n\n  const handleCommentSubmit = e => {\n    e.preventDefault();\n    axios.post(`${Url.baseurl}/upload/comment`, {\n      _id: id,\n      username: username,\n      text: commentTxt\n    }).then(res => {\n      setComments(res.data[0].comments);\n      setCommentsLength(res.data[0].comments.length);\n      setOpenCommentBox(false);\n    });\n  };\n\n  const handleOpenComment = e => {\n    //toggling comment box\n    e.preventDefault();\n    setOpenCommentBox(!openCommentBox);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content_lft\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contnt_2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"div_a\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_title\",\n              children: post.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"btm_rgt\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btm_arc\",\n                children: post.category\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_top\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"div_top_lft\",\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"\",\n                  src: \"/images/img_6.png\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 19\n                }, this), post.username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"div_top_rgt\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"span_date\",\n                  children: post.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"span_time\",\n                  children: post.time\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"\",\n                src: `${Url.baseurl}/${post.image}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"div_btm\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btm_list\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_001.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 100,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 25\n                      }, this), \"Share\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 98,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: true,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_002.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 108,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 25\n                      }, this), \"Flag\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: isLIke ? /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: true,\n                      onClick: ChangeLike,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_003.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 117,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 116,\n                        columnNumber: 27\n                      }, this), likeLength, \" Likes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 25\n                    }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: true,\n                      onClick: ChangeLike,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon btn_icon1\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_003.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 27\n                      }, this), likeLength, \" Likes\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 122,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: true,\n                      onClick: handleOpenComment,\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"btn_icon\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: \"/images/icon_004.png\",\n                          alt: \"share\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 133,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 25\n                      }, this), commentsLength, \" Comments\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 131,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 130,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contnt_3\",\n          children: [openCommentBox && /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleCommentSubmit,\n            children: [/*#__PURE__*/_jsxDEV(FormInput, {\n              lable: \"Type comment\",\n              placeholder: \"Enter your comment\",\n              type: \"text\",\n              name: \"comment\",\n              onchange: handleCommentClick\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n              type: \"submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: comments.map(item => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"list_image\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image_sec\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      alt: \"\",\n                      src: \"/images/post_img.png\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"image_name\",\n                    children: item.username\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"list_info\",\n                  children: item.text\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"button\",\n                  defaultValue: \"Reply\",\n                  className: \"orng_btn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this);\n            }).reverse()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view_div\",\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: true,\n              children: \"View more\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Index, \"qmQw8a1vRSMRfJN8+ATmVz8rylc=\");\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["/home/sourabh/Desktop/PPL/frontend/src/screens/timeline/singlepost/index.js"],"names":["React","useEffect","useState","axios","Url","FormInput","like","Index","props","userId","localStorage","getItem","username","post","setPost","likeLength","setLikeLength","isLIke","setIsLIke","comments","setComments","commentsLength","setCommentsLength","commentTxt","setCommentTxt","openCommentBox","setOpenCommentBox","id","match","params","baseurl","_id","then","res","data","likes","length","a","includes","ChangeLike","e","preventDefault","Makelikes","handleCommentClick","target","value","handleCommentSubmit","text","handleOpenComment","description","category","date","time","image","map","item","reverse"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nimport Url from \"../../../util/Config\";\nimport FormInput from \"../../../components/forms/Form\";\nimport like from \"../components/Like\";\n\nfunction Index(props) {\n  //taking data from localsy=torage\n  const userId = localStorage.getItem(\"id\");\n  const username = localStorage.getItem(\"username\");\n  //setting up hooks\n  const [post, setPost] = useState({});\n  const [likeLength, setLikeLength] = useState(0);\n  const [isLIke, setIsLIke] = useState(false);\n  const [comments, setComments] = useState([]);\n  const [commentsLength, setCommentsLength] = useState(0);\n  const [commentTxt, setCommentTxt] = useState(\"\");\n  const [openCommentBox, setOpenCommentBox] = useState(false);\n\n  const id = props.match.params.id; //post id from url\n\n  //fetching a single post\n  useEffect(() => {\n    axios.post(`${Url.baseurl}/upload/singlepost`, { _id: id }).then((res) => {\n      setPost(res.data[0]);\n      setLikeLength(res.data[0].likes.length);\n      setComments(res.data[0].comments);\n      setCommentsLength(res.data[0].comments.length);\n      const a = res.data[0].likes.includes(userId);\n      setIsLIke(a);\n    });\n  }, []);\n  //updating likes\n  const ChangeLike = async (e) => {\n    e.preventDefault();\n    const data = await like.Makelikes(id, userId);\n    setLikeLength(data.data[0].likes.length);\n    const a = data.data[0].likes.includes(userId);\n    setIsLIke(a);\n  };\n  const handleCommentClick = (e) => {\n    //typing in comment input box\n    e.preventDefault();\n    setCommentTxt(e.target.value);\n  };\n\n  //submiting a new comment\n  const handleCommentSubmit = (e) => {\n    e.preventDefault();\n\n    axios\n      .post(`${Url.baseurl}/upload/comment`, {\n        _id: id,\n        username: username,\n        text: commentTxt,\n      })\n      .then((res) => {\n        setComments(res.data[0].comments);\n        setCommentsLength(res.data[0].comments.length);\n        setOpenCommentBox(false);\n      });\n  };\n  const handleOpenComment = (e) => {\n    //toggling comment box\n    e.preventDefault();\n    setOpenCommentBox(!openCommentBox);\n  };\n  return (\n    <div>\n      <div className=\"container\">\n        <div className=\"content\"></div>\n        {/* <TimelineRight /> */}\n        <div className=\"content_lft\">\n          <div className=\"contnt_2\">\n            <div className=\"div_a\">\n              <div className=\"div_title\">{post.description}</div>\n              <div className=\"btm_rgt\">\n                <div className=\"btm_arc\">{post.category}</div>\n              </div>\n              <div className=\"div_top\">\n                <div className=\"div_top_lft\">\n                  <img alt=\"\" src=\"/images/img_6.png\" />\n                  {post.username}\n                </div>\n                <div className=\"div_top_rgt\">\n                  <span className=\"span_date\">{post.date}</span>\n                  <span className=\"span_time\">{post.time}</span>\n                </div>\n              </div>\n              <div className=\"div_image\">\n                <img alt=\"\" src={`${Url.baseurl}/${post.image}`} />\n              </div>\n              <div className=\"div_btm\">\n                <div className=\"btm_list\">\n                  <ul>\n                    <li>\n                      <a href>\n                        <span className=\"btn_icon\">\n                          <img src=\"/images/icon_001.png\" alt=\"share\" />\n                        </span>\n                        Share\n                      </a>\n                    </li>\n                    <li>\n                      <a href>\n                        <span className=\"btn_icon\">\n                          <img src=\"/images/icon_002.png\" alt=\"share\" />\n                        </span>\n                        Flag\n                      </a>\n                    </li>\n                    <li>\n                      {isLIke ? (\n                        <a href onClick={ChangeLike}>\n                          <span className=\"btn_icon\">\n                            <img src=\"/images/icon_003.png\" alt=\"share\" />\n                          </span>\n                          {likeLength} Likes\n                        </a>\n                      ) : (\n                        <a href onClick={ChangeLike}>\n                          <span className=\"btn_icon btn_icon1\">\n                            <img src=\"/images/icon_003.png\" alt=\"share\" />\n                          </span>\n                          {likeLength} Likes\n                        </a>\n                      )}\n                    </li>\n                    <li>\n                      <a href onClick={handleOpenComment}>\n                        <span className=\"btn_icon\">\n                          <img src=\"/images/icon_004.png\" alt=\"share\" />\n                        </span>\n                        {commentsLength} Comments\n                      </a>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"contnt_3\">\n            {openCommentBox && (\n              <form onSubmit={handleCommentSubmit}>\n                <FormInput\n                  lable=\"Type comment\"\n                  placeholder=\"Enter your comment\"\n                  type=\"text\"\n                  name=\"comment\"\n                  onchange={handleCommentClick}\n                />\n                <FormInput type=\"submit\" />\n              </form>\n            )}\n            <ul>\n              {comments\n                .map((item) => {\n                  return (\n                    <li>\n                      <div className=\"list_image\">\n                        <div className=\"image_sec\">\n                          <img alt=\"\" src=\"/images/post_img.png\" />\n                        </div>\n                        <div className=\"image_name\">{item.username}</div>\n                      </div>\n                      <div className=\"list_info\">{item.text}</div>\n                      <input\n                        type=\"button\"\n                        defaultValue=\"Reply\"\n                        className=\"orng_btn\"\n                      />\n                    </li>\n                  );\n                })\n                .reverse()}\n            </ul>\n            <div className=\"view_div\">\n              <a href>View more</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}